# 01-03 - 簡單的 useState 使用，卻出現了「Cannot set properties of undefined」？

## 🤔 問題描述

你在開發一個簡單的用戶資料展示頁面，使用 `useState` 來管理從 API 獲取的用戶資料。代碼看起來很正常，但是點擊按鈕時卻出現了錯誤：

```
Cannot set properties of undefined (setting 'name')
```

## 📝 問題代碼示例

```jsx
import { useState, useEffect } from 'react'

function App() {
  const [user, setUser] = useState()
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    // 模擬 API 呼叫
    setTimeout(() => {
      setUser({ name: 'John', email: 'john@example.com' })
      setLoading(false)
    }, 2000)
  }, [])

  const updateName = () => {
    user.name = 'Jane'  // ❌ 錯誤發生在這裡
    setUser({...user})
  }

  if (loading) return <div>載入中...</div>

  return (
    <div>
      <p>姓名: {user.name}</p>
      <button onClick={updateName}>更新姓名</button>
    </div>
  )
}
```

## 🎯 學習目標

- 理解 React 狀態管理的基本概念
- 學習處理異步資料載入時的狀態管理
- 掌握條件渲染和載入狀態的處理
- 避免常見的物件操作錯誤

## 🔍 觀察重點

1. 為什麼會出現 "Cannot set properties of undefined" 錯誤？
2. useState 沒有初始值時會發生什麼？
3. 如何正確處理異步資料載入？
4. 載入狀態應該如何處理？

## 🚀 開始練習

1. 複製 `problem/App.jsx` 到 `src/App.jsx`
2. 在瀏覽器中查看錯誤
3. 分析錯誤產生的原因
4. 嘗試修復問題
5. 查看 `solution/` 資料夾學習正確做法

## 💡 提示

- 思考：useState 沒有初始值時，state 的值是什麼？
- 思考：在異步操作完成前，如何避免操作不存在的物件？
- 思考：用戶體驗角度，載入中應該顯示什麼？
