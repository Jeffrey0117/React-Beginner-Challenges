# 04 - 避免重複的 handleChange

## 題目說明

請完成一個表單，包含三個欄位：`name`、`email`、`age`。
目前 starter code 為每個 input 都寫一個 `handleChange`，導致重複程式碼。
請思考如何優化，讓程式更乾淨。

### Starter Code

```jsx
import React, { useState } from "react";

function Form() {
	const [form, setForm] = useState({
		name: "",
		email: "",
		age: "",
	});

	function handleNameChange(e) {
		setForm((prev) => ({ ...prev, name: e.target.value }));
	}
	function handleEmailChange(e) {
		setForm((prev) => ({ ...prev, email: e.target.value }));
	}
	function handleAgeChange(e) {
		setForm((prev) => ({ ...prev, age: e.target.value }));
	}

	return (
		<form>
			<input
				name="name"
				value={form.name}
				onChange={handleNameChange}
				placeholder="Name"
			/>
			<input
				name="email"
				value={form.email}
				onChange={handleEmailChange}
				placeholder="Email"
			/>
			<input
				name="age"
				value={form.age}
				onChange={handleAgeChange}
				placeholder="Age"
			/>
		</form>
	);
}

export default Form;
```

---

## Solution 解答

請將三個 handler 合併成一個通用的 `handleChange`，根據 input 的 `name` 屬性來更新對應的 state。

```jsx
import React, { useState } from "react";

function Form() {
	const [form, setForm] = useState({
		name: "",
		email: "",
		age: "",
	});

	function handleChange(e) {
		const { name, value } = e.target;
		setForm((prev) => ({
			...prev,
			[name]: value,
		}));
	}

	return (
		<form>
			<input
				name="name"
				value={form.name}
				onChange={handleChange}
				placeholder="Name"
			/>
			<input
				name="email"
				value={form.email}
				onChange={handleChange}
				placeholder="Email"
			/>
			<input
				name="age"
				value={form.age}
				onChange={handleChange}
				placeholder="Age"
			/>
		</form>
	);
}

export default Form;
```

---

## 補充說明

- 每個 input 的 `name` 屬性要對應到 state 的 key。
- `handleChange` 只寫一次，根據 `e.target.name` 來決定要更新哪個欄位。
- 這樣可以避免為每個欄位都寫一個 handler，減少重複程式碼。

